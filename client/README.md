# Kubernetes Custom UI (client)

[![Build Status](https://travis-ci.org/commercetools/kubernetes-custom-ui.svg?branch=master)](https://travis-ci.org/commercetools/kubernetes-custom-ui)

The Kuberntes Custom UI is a client-server application that provides a dashboard focused on non "techies" individuals, that allows to manage different entities and services of a Kubernetes cluster.

This documentation refers to the client part of the application which is responsible for displaying the Kubernetes cluster information in a user friendly interface (UI).

This client project is based on the [vue-cli webpack template](https://github.com/vuejs-templates/webpack), so you can refer to its documentation for more detailed information related to the specifics of the build steps, config, etc...

### Requirements

-  [Node.js](https://nodejs.org) >= 8.x.x

### Includes
 

- **[Vue.js](https://vuejs.org/)**: Framework  that offers great features and allows to create rich and performant UI's.
- **[Vue.js router](https://router.vuejs.org/)**: Router for Vue.js
- **[Vuex](https://vuex.vuejs.org/)**: State management library for Vue.js
- **[Webpack](https://webpack.js.org/)**:  Static module bundler for generating the different bundles of the application (*.js, *.css, ...)
-  **Unit tests**: [Jest](https://facebook.github.io/jest) is already configured to run your tests and generate the coverage report
-  **Config**: The configuration is managed via [nconf](https://github.com/indexzero/nconf)

-  **Transpiler**: [Babel](https://babeljs.io/) is configured with target **node.js >= 8.x.x** and [stage 3 preset](https://babeljs.io/docs/plugins/preset-stage-3/)

-  **Linter**: [ESLint](https://eslint.org/)

-  **Formatter**: [Prettier](https://github.com/prettier/prettier) has been added to format the code following the ESLint rules before any commit.


### Configuration

 There is a config folder with 3 files in order to configure the application according to the environment that you want to run:

 - **dev.env.js**: config variables for development  
 - **prod.env.js**: config variables for production  
 - **test.env.js**: config variables for testing  

These files are basically properties files of type `variable_name=value`.  The variables are "injected" by Webpack in the application and access in the source code by `process.env.variable_name`, so for example configuring a variable  `API_URL='"http://localhost:3000/api"'` in a config file, can be retrieved by `process.env.API_URL` within your source code.

 **NOTE**: you shouldn't set any sensitive information in these files 
  
By default the client is configured to run out of the box, however you can configure the API host, for those cases where your server is not running in `localhost:3000`
These are the environment variables to configure the server:

  

| Variable | Description | Default |

| --- | ---| ---|

| `API_RUL` |Host url where your api server is running | `3000` |


### Lint

The project includes [ESLint](https://eslint.org/) to lint the code. The following command will check the if the code comply with the defined ESLint rules


```bash
$ npm run lint
```


### Build

The server has dependencies that needs to be installed before building and running it.

  
#### Install the dependencies
  

- Development


```bash
$ npm install
```

- Production

```bash
$ NODE_ENV=production npm install
```


#### Transpile

The code is written in ES6/ES7. Depending on the Node.js version you have installed, you maybe need to transpile the code to a Javascript code that can run in your environment.

  

```bash
$ npm run build
```

### Run

After [configuring](#configuration) and installing the [dependencies](#install-the-dependencies) , the server is started in:

  

-  **Development mode**: In this mode, you don't need to [transpile](#transpile) the code since is done automatically. You will also benefit of hot reloading after saving any file.

  

```bash
$ npm start
```

-  **Production mode**: 

  In production mode, the code has to be built for production in order to minify, uglify and build the different bundles

```bash
$ npm run build
```

After the bundles have been generated by webpack, a new `dist` folder that contains your assets is created. This folder is the one that has to be served by a web server like Nginx, Apache, etc.. (it's not possible to run it directly on your local machine without running a web server locally).

If you are using the server that comes with this project, you don't have to worry about this, because the Express.js server that comes with the project is able to serve the static assets from the `dist` folder.

#### Full example

```bash
$ npm install
$ npm start
```

### Tests

To run the tests

```bash
$ npm test
```